# spring-boot-lecture

●영속성 컨텍스트
- 엔티티를 영구 저장하는 환경이라는 뜻
- 어플리케이션과 데이터베이스 사이에서 객체를 보관하는 가상의 데이터베이스를 의미한다.
- 엔티티 매니저를 사용하여 영속성 컨텍스트에 접근하고 관리하는 것
- em.persist(member)을 활용해 member객체를 영속성 컨텍스트에 저장하는 것
- 엔티티 매니저를 사용하는 모든 데이터 변경은 항상 트랜잭션안에서 되야하므로 꼭 @Transactional을 붙여줘야한다

●Embedded 
- Entity를 깔끔하게 표현하기위해서 사용하는 어노테이션 
- 여러개의 값이 있지만 결국 하나의 값을 나타낼 때 사용한다.
- 주로 주소에 많이 사용된다. (우편번호 + 도로명주소 같은 느낌?)

●연관 관계 설정시 
1. EAGER : 즉시로딩으로 실행될 때 연관된 모든 연관관계를 다 끌고 오기 때문에 어떤 sql이 실행될지 추적하기 어렵다
2. LAZY : 지연로딩으로 필요할 때만 연관 관계를 가져오는 방식으로 실무에선 꼭 이것을 사용해야한다고 한다
-----------------------------------------------------------------------------
기능목록 
1. 회원 기능 : 회원 등록 + 회원 조회
2. 상품 기능 : 상품 등록 + 상품 수정 + 상품 조회
3. 주문 기능 : 상품 주문 + 주문 내역 조회 + 주문 취소
4. 기타 요구사항 
	1) 상품은 제고 관리가 필요(주문하면 남은 개수가 줄어드는 것, 취소하면 다시 올라	   가고)
	2) 상품의 종류는 도서, 음반, 영화가 있다.
	3) 상품은 카테고리 별로 구분할 수 있어야 한다.
	4) 상품 주문 시 배송 정보를 입력할 수 있다.

연관관계
1. 회원과 주문 : 일대다, 다대일의 양방향 관계로서 왜래 키가 있는 주문을 연관관계의 주인으로 정하는 것이 좋다.
2. 주문상품과 주문 : 다대일 양방향 관계이다. 왜래 키가 주문상품에 있으므로 주문상품이 연관관계의 주인이다.
3. 주문상품과 상품 : 다대일 단방향 관계이다. 하나의 상품은 여러 주문상품에 포함될 수 있다. 즉, 하나의 상품이 a의 주문 상품 목록에도 있고 b의 주문상품 목록에도 있을 수 있다는 말

![image01](https://user-images.githubusercontent.com/90305145/154275460-73e2e6c1-b3f7-446e-91e7-830d31d12d28.png)

